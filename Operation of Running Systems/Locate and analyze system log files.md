# Locate and analyze system log files

- Logging Daemons rsyslog -> **r**ocket-fast **sys**tem for log processing
- rsyslog stores all logs in /var/log directory

- Finding the correct Log file
```
grep -r 'ssh' /var/log/
```

- Following Log Files using follow mode
```
tail -F /var/log/secure
```
- journalctl - A program called journal daemon lets us analyse data,show command generated by the command.
```
which sudo
journalctl /bin/sudo
journalctl -u sshd.service
```
- info,warning,err and critical
```
journalctl -p TAB TAB
journalctl -p err
journalctl -p info -g '^b'
journalctl -S 1:00 -U 02:00
```
- See logs for current boot
```
journalctl -b 0
```
- To see user who logged in
```
last
lastlog
```

## Q&A

- Search the logs for entries related to the SSH daemon i.e sshd. Find out what IP address last connected to this daemon successfully.
```
sudo journalctl --unit=sshd.service -n 20 --no-pager
```
- Under /var/log directory, search for all files containing the reboot string and save the search result in /home/bob/reboot.log file.
```
sudo grep -r 'reboot' /var/log/ > reboot.log
```
- Analiyze the error logs through journalctl with the priority flag and copy the output to /home/bob/.priority/priority.log.
```
sudo journalctl -p err > /home/bob/.priority/priority.log
```
- Analyse the info priority logs through journalctl that begin with letter c and store the output in /home/bob/.priority/boot.log file.
```
sudo journalctl -p info -g '^c' > /home/bob/.priority/boot.log
```